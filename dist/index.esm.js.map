{"version":3,"file":"index.esm.js","sources":["../src/useKrPhoneFormatter.ts","../src/index.ts"],"sourcesContent":["// src/useKrPhoneFormatter.ts\n\nimport { useState, useCallback } from \"react\";\nimport { formatKrPhoneNumber, extractNumber } from \"./index\"; // 앞서 만든 핵심 함수 import\n\ninterface useKrPhoneFormatterProps {\n  value: string; // 현재 인풋에 표시되어야 할 포맷된 전화번호\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void; // <input>의 onChange 핸들러에 바로 연결할 수 있는 함수\n  rawValue: string; // 포맷되지 않은 순수 숫자 문자열\n  setValue: (newValue: string) => void; // 외부에서 값을 설정하기 위한 함수\n}\n\nexport function useKrPhoneFormatter(initialValue: string = \"\"): useKrPhoneFormatterProps {\n  // 초기값 포맷팅\n  const initialFormattedValue = formatKrPhoneNumber(initialValue);\n\n  // 포맷된 값 (input에 표시될 값)\n  const [formattedValue, setFormattedValue] = useState(initialFormattedValue);\n\n  const handleChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    const rawInput = event.target.value;\n    const newFormattedValue = formatKrPhoneNumber(rawInput);\n\n    // 상태 업데이트\n    setFormattedValue(newFormattedValue);\n  }, []);\n\n  const setValue = useCallback((newValue: string) => {\n    setFormattedValue(formatKrPhoneNumber(newValue));\n  }, []);\n\n  return {\n    value: formattedValue,\n    onChange: handleChange,\n    rawValue: extractNumber(formattedValue), // 숫자만 추출해서 제공\n    setValue,\n  };\n}\n","/**\n * 한국 전화번호를 입력받아 실시간으로 하이픈 포맷을 적용하는 핵심 함수입니다.\n * @param value - 입력된 문자열 (하이픈, 공백 등 포함 가능)\n * @returns 포맷이 적용된 문자열\n */\nexport function formatKrPhoneNumber(value: string): string {\n  // 1. 숫자만 추출: 입력값에서 숫자 외 모든 문자 제거\n  const cleaned = value.replace(/[^0-9]/g, \"\");\n\n  // 입력된 숫자가 없으면 빈 문자열 반환\n  if (!cleaned) return \"\";\n\n  const len = cleaned.length;\n\n  // 2. 010 (휴대폰, 11자리) 처리\n  if (cleaned.startsWith(\"010\") && len <= 11) {\n    if (len <= 3) return cleaned;\n    if (len <= 7) return `${cleaned.substring(0, 3)}-${cleaned.substring(3, len)}`;\n    // 010-XXXX-XXXX 포맷 (11자리)\n    return `${cleaned.substring(0, 3)}-${cleaned.substring(3, 7)}-${cleaned.substring(7, 11)}`;\n  }\n\n  // 3. 02 (서울 지역번호, 9~10자리) 처리\n  if (cleaned.startsWith(\"02\") && len <= 10) {\n    if (len <= 2) return cleaned; // '02'\n\n    // 02로 시작하고 총 길이가 9자리 이하일 때 (02-XXX-XXXX 또는 02-XX-XXXX)\n    if (len <= 6) {\n      return `${cleaned.substring(0, 2)}-${cleaned.substring(2, len)}`; // 02-XX(X)\n    }\n\n    // 9자리 포맷 (02-XXX-XXXX)\n    if (len === 9) {\n      return `${cleaned.substring(0, 2)}-${cleaned.substring(2, 5)}-${cleaned.substring(5, 9)}`;\n    }\n\n    // 10자리 포맷 (02-XXXX-XXXX)\n    return `${cleaned.substring(0, 2)}-${cleaned.substring(2, 6)}-${cleaned.substring(6, 10)}`;\n  }\n\n  // 4. 기타 지역번호 (03X, 05X 등, 10~11자리) 처리\n  if (len <= 3) return cleaned; // 0XX\n\n  // 국번(3자리)까지 입력된 경우 (0XX-XXX)\n  if (len <= 7) {\n    return `${cleaned.substring(0, 3)}-${cleaned.substring(3, len)}`;\n  }\n\n  // 10자리 포맷 (0XX-XXX-XXXX)\n  if (len <= 10) {\n    return `${cleaned.substring(0, 3)}-${cleaned.substring(3, 6)}-${cleaned.substring(6, len)}`;\n  }\n\n  // 11자리 포맷 (0XX-XXXX-XXXX)\n  // 03112345678 (11자리)\n  return `${cleaned.substring(0, 3)}-${cleaned.substring(3, 7)}-${cleaned.substring(7, 11)}`;\n}\n\n/**\n * 포맷된 문자열에서 숫자만 추출하는 함수\n * @param formattedValue - 하이픈 등 특수문자가 포함된 문자열\n * @returns 숫자만 남은 문자열\n */\nexport function extractNumber(formattedValue: string): string {\n  return formattedValue.replace(/[^0-9]/g, \"\");\n}\n\nexport { useKrPhoneFormatter } from \"./useKrPhoneFormatter\";\n"],"names":[],"mappings":"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"}